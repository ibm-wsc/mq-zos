
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="IBM MQ for z/OS">
      
      
        <meta name="author" content="IBM Z WSC">
      
      
        <link rel="canonical" href="https://github.com/ibm-wsc/mq-zos/certificates/">
      
      
        <link rel="prev" href="../saf-keyrings/">
      
      
        <link rel="next" href="../new-queue-manager/">
      
      
      <link rel="icon" href="../assets/wsc-logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Certificate Management Lab - IBM MQ for z/OS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans:300,300i,400,400i,700,700i%7CIBM+Plex+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"IBM Plex Sans";--md-code-font:"IBM Plex Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-ssl-with-mq" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="IBM MQ for z/OS" class="md-header__button md-logo" aria-label="IBM MQ for z/OS" data-md-component="logo">
      
  <img src="../assets/wsc-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IBM MQ for z/OS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Certificate Management Lab
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/ibm-wsc/mq-zos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="IBM MQ for z/OS" class="md-nav__button md-logo" aria-label="IBM MQ for z/OS" data-md-component="logo">
      
  <img src="../assets/wsc-logo.png" alt="logo">

    </a>
    IBM MQ for z/OS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ibm-wsc/mq-zos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../saf-console/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic SAF Authentication for MQ Console
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../saf-keyrings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring SAF Key Rings for MQ Console
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Certificate Management Lab
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Certificate Management Lab
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#audience-level" class="md-nav__link">
    <span class="md-ellipsis">
      Audience level
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skillset" class="md-nav__link">
    <span class="md-ellipsis">
      Skillset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    <span class="md-ellipsis">
      Background
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview-of-exercise" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of exercise
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-begin" class="md-nav__link">
    <span class="md-ellipsis">
      Lab begin
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab begin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-set-up-the-zos-side" class="md-nav__link">
    <span class="md-ellipsis">
      I. Set up the z/OS side
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-configuring-the-mq-explorer-ssl-support" class="md-nav__link">
    <span class="md-ellipsis">
      II. Configuring the MQ Explorer SSL Support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iii-configure-channel-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      III. Configure channel encryption
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../new-queue-manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuring a New Queue Manager Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../connectivity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connectivity to Lab Environment
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../comparing-offloading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comparing Offloading Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../kafka-bindings/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kafka via Bindings Mode Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../kafka-client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kafka via Client Connections Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Logging
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mp1b/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MP1B Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../qm_upgrade/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queue Manager Upgrade Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../queue-statistics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Queue Statistics Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../streaming-queues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming Queues Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../securitylab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../triggering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Triggering Lab
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../archive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Archived Materials
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    MQSMF Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            MQSMF Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blog/CF%20calls%20Generated%20by%20an%20MQGET%20Query/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CF Calls Generated by an MQGET Query
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blog/MultipleQSGAndViews/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multiple QSG And Views
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blog/SMF%20data%20gathering%20suggestions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SMF Data Gathering Suggestions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blog/Symptoms%20that%20led%20to%20PD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Symptoms that led to problem determination
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blog/Task%20record%20information/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Task Record Information
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#audience-level" class="md-nav__link">
    <span class="md-ellipsis">
      Audience level
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#skillset" class="md-nav__link">
    <span class="md-ellipsis">
      Skillset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#background" class="md-nav__link">
    <span class="md-ellipsis">
      Background
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview-of-exercise" class="md-nav__link">
    <span class="md-ellipsis">
      Overview of exercise
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lab-begin" class="md-nav__link">
    <span class="md-ellipsis">
      Lab begin
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lab begin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-set-up-the-zos-side" class="md-nav__link">
    <span class="md-ellipsis">
      I. Set up the z/OS side
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ii-configuring-the-mq-explorer-ssl-support" class="md-nav__link">
    <span class="md-ellipsis">
      II. Configuring the MQ Explorer SSL Support
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iii-configure-channel-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      III. Configure channel encryption
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="using-ssl-with-mq">Using SSL with MQ</h1>
<h3 id="audience-level">Audience level</h3>
<p>Intermediate or advanced; Users should have an understanding of MQ, RACF, Java, SSL/TLS  </p>
<h3 id="skillset">Skillset</h3>
<p>z/OS Systems Programming, MQ Administration</p>
<h3 id="background">Background</h3>
<p>IBM MQ for z/OS customers are continually looking for methods to keep their environments secure. Understanding how to use SSL/TLS with z/OS is critical to keeping up with encryption requirements. In this lab, you will set up the infrastructure for certificates in a IBM MQ environment and implemented SSL security between MQ Explorer and a z/OS queue manager.</p>
<h3 id="overview-of-exercise">Overview of exercise</h3>
<p><img alt="Picture of certificate diagram" src="../assets/cert_diagram.png" title="Picture of certificate diagram" /></p>
<p>In the first part of this exercise, we will generate a self-signed certificate connecting z/OS to our client. This step is necessary to create the TLS infrastructure to be used for channel encryption. </p>
<p>We will do this by generating a certificate authority and personal certificate on z/OS using the RACF Certificate Authority, then we will export the certificate as a trusted certificate to our client, then we will configure a java keystore on our client-side, generate a personal certificate on the client-side and sign the client's personal certificate using our z/OS certificate authority. </p>
<p>Please note: self-signed certificates should only be used in lab or test environments. They should not be used in production environments.</p>
<p>In the second part of this exercise, we will implement channel encryption to securely connect to a sample queue manager running on z/OS. We will do this by adjusting settings on our queue manager, mainly using MQ Explorer.</p>
<h3 id="lab-begin">Lab begin</h3>
<h4 id="i-set-up-the-zos-side">I. Set up the z/OS side</h4>
<ol>
<li>
<p>Use the TSO command RACDCERT CERTAUTH GENCERT command to create a signer
certificate with label 'MQ CA'.</p>
<div class="highlight"><pre><span></span><code>racdcert certauth gencert subjectsdn(CN(&#39;MQ CA&#39;) OU(&#39;ATS&#39;)
O(&#39;IBM&#39;) C(&#39;US&#39;)) withlabel(&#39;MQ CA&#39;) keyusage(certsign)
notafter(date(2029/12/31)) 
</code></pre></div>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>subjectsdn(CN('common-name') OU('organizational-unit-name1') O('organization-name') C('country'))</td>
<td>Specifies the subject's X.509 distinguished name, which consists of the following components: CommonName - specified with the CN subkeyword. Organizational Unit - specified with the OU subkeyword. Multiple values can be specified for the organizational unit. Country - specified with the C subkeyword.</td>
</tr>
<tr>
<td>withlabel</td>
<td>Specifies the label assigned to this certificate. If specified, this must be unique to the user ID with which the certificate is associated. If not specified, it defaults in the same manner as the WITHLABEL keyword on the RACDCERT ADD command.</td>
</tr>
<tr>
<td>signwith</td>
<td>Specifies the certificate with a private key that is signing the certificate. If SIGNWITH is specified, it must refer to a certificate that has a private key associated with it. If no private key is associated with the certificate, an informational message is issued and processing stops.</td>
</tr>
<tr>
<td>notafter</td>
<td>Specifies the local date and time after which the certificate is no longer valid</td>
</tr>
</tbody>
</table>
</li>
<li>
<p>Use the RACDCERT CERTAUTH GENCERT command to create a personal certificate for the
MQ channel initiator (CHIN) with a label of 'MQCHIN'.</p>
<div class="highlight"><pre><span></span><code>racdcert id(SYSPROG) gencert subjectsdn(CN(&#39;MQ CHIN&#39;) OU(&#39;ATS&#39;)
O(&#39;IBM&#39;) C(&#39;US&#39;)) withlabel(&#39;MQ CHIN&#39;) signwith(certauth
label(&#39;MQ CA&#39;)) notafter(date(2029/12/31) 
</code></pre></div>
</li>
</ol>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>subjectsdn</td>
<td>Specifies the subject's X.509 distinguished name, which consists of the following components: CommonName - specified with the CN subkeyword. Organizational Unit - specified with the OU subkeyword. Multiple values can be specified for the organizational unit. Country - specified with the C subkeyword.</td>
</tr>
<tr>
<td>withlabel</td>
<td>Specifies the label assigned to this certificate. If specified, this must be unique to the user ID with which the certificate is associated. If not specified, it defaults in the same manner as the WITHLABEL keyword on the RACDCERT ADD command.</td>
</tr>
<tr>
<td>signwith</td>
<td>Specifies the certificate with a private key that is signing the certificate. If SIGNWITH is specified, it must refer to a certificate that has a private key associated with it. If no private key is associated with the certificate, an informational message is issued and processing stops.</td>
</tr>
<tr>
<td>notafter</td>
<td>Specifies the local date and time after which the certificate is no longer valid.</td>
</tr>
</tbody>
</table>
<blockquote>
<p><em><strong>Tech-Tip:</strong> SYSPROG is the MQ channel initiator region’s RACF identity under which the CHIN started task is executing.</em></p>
</blockquote>
<p>3.    Run the command </p>
<div class="highlight"><pre><span></span><code>    racdcert certauth list(label(&#39;MQ CA&#39;))
</code></pre></div>
<p>Your output should look like this:</p>
<div class="highlight"><pre><span></span><code>    Digital certificate information for CERTAUTH:

    Label: MQ CA                                          
    Certificate ID: 2QiJmZmDhZmjgdTYQMPB                  
    Status: TRUST                                         
    Start Date: 2025/03/10 00:00:00                       
    End Date:   2025/03/31 23:59:59                       
    Serial Number:                                        
            &gt;00&lt;                                             
    Issuer&#39;s Name:                                        
            &gt;CN=MQ CA.OU=ATS.O=IBM.C=US&lt;                     
    Subject&#39;s Name:                                       
            &gt;CN=MQ CA.OU=ATS.O=IBM.C=US&lt;                     
    Signing Algorithm: sha256RSA                          
    Key Usage: CERTSIGN                                   
    Key Type: RSA                                         
    Key Size: 2048                                        
    Private Key: YES
</code></pre></div>
<blockquote>
<p><em><strong>Tech-Tip:</strong> The common name (CN), organization unite(OU), organization(O) country (C) , labels and aliases are case sensitive. Subsequent RACF or keytool commands referencing a label, an alias or common name, etc. in any command must use the exact same case and spacing when referring to the values of these fields in the certificate (i.e. be consistent).</em></p>
</blockquote>
<p><em>For example, command racdcert certauth list(label(‘MQ CA’)) would display this certificate while command racdcert certauth list(label(‘mq CA’)) would not. Command racdcert certauth delete(label(‘MQ CA’)) could be used to delete this certificate while command racdcert certauth delete(label(‘mq CA’)) could not.</em></p>
<p>4. Use the RACDCERT ADDRING command to create a RACF Key Ring for the MQ CHIN region’s RACF identity. The signer certificates and WMQ’s personal certificates will be connected to this key ring.</p>
<div class="highlight"><pre><span></span><code>    racdcert id(user1) addring(MQCHIN.KeyRing)
</code></pre></div>
<blockquote>
<p><em><strong>Tech-Tip:</strong> RACF key rings are case sensitive so be sure to enter the key ring name, e.g. MQ.KeyRing in exactly the same case in subsequent commands.</em></p>
<p><em><strong>Tech-Tip:</strong> SYSPROG needs READ access to FACILITY resource IRR.DIGTCERT.LISTRING in order to access this key ring.</em></p>
</blockquote>
<p>5. Use the RACDCERT CONNECT command to connect the MQ signer certificate that was used to sign the ‘MQ CA’ client’s personal certificate to the MQ CHIN’s key ring.</p>
<div class="highlight"><pre><span></span><code>    racdcert id(SYSPROG) connect(ring(MQCHIN.KeyRing) label(&#39;MQ CA&#39;) certauth usage(certauth))
</code></pre></div>
<blockquote>
<p><em><strong>Tech-Tip:</strong> A RACF key ring is unique to the owning user. So connecting a signer certificate labeled “MQ CA” with command RACDCERT ID(USER1) CONNECT(RING(MQCHIN.KeyRing) has no effect on a key ring labeled MQCHIN.KeyRing owned by user USER2.</em></p>
</blockquote>
<p>6. Use the RACDCERT CONNECT command to connect the MQ CHIN region's persional certificate to the MQCHIN.KeyRing. </p>
<div class="highlight"><pre><span></span><code>    racdcert id(SYSPROG) connect(ring(MQCHIN.KeyRing) label(&#39;MQ CHIN&#39;) default)
</code></pre></div>
<blockquote>
<p><em><strong>Tech-Tip:</strong> The default parameter indicates that this is the personal certificate that will be provided to the remote application during a connection request.</em></p>
</blockquote>
<p>7. Use the RACF RACDCERT LISTRING command to display the MQCHIN.KeyRing contents</p>
<div class="highlight"><pre><span></span><code>    racdcert id(SYSPROG) listring(MQCHIN.KeyRing)
</code></pre></div>
<p>8. The MQ signer certificate needs to be exported and installed in the client's trust stores. Use the RACDCERT CERTAUTH EXPORT command to export the MQ signer certificate from RACF into a sequential dataset.</p>
<div class="highlight"><pre><span></span><code>    racdcert certauth export(label(&#39;MQ CA&#39;)) dsn(mq.cacert.cer)
</code></pre></div>
<h4 id="ii-configuring-the-mq-explorer-ssl-support">II. Configuring the MQ Explorer SSL Support</h4>
<ol>
<li>
<p>Open a command window and enter the following:</p>
<div class="highlight"><pre><span></span><code>user1@129.40.114.132&#39;s password:
Connected to 129.40.114.132.
sftp&gt; cd //&#39;USER1&#39;
sftp&gt; ls /+mode=text
/+mode=text
sftp&gt; get MQ.CACERT.CER
Fetching //USER1/MQ.CACERT.CER to MQ.CACERT.CER
</code></pre></div>
</li>
<li>
<p>Import the MQ Certificate Authority certificate using the keytool import command to import the signer certificate into local trust store file(e.g. USER1.jks) and indicate that this is a trusted signer certificates (-trustcacerts)</p>
<div class="highlight"><pre><span></span><code>keytool -import -v -trustcacerts -alias &quot;MQ CA&quot; -file MQ.CACERT.CER -keystore USER1.jks
</code></pre></div>
</li>
<li>
<p>Use the keytool genkey command to generate a self-signed certificate with the desired distinguished name specification. This is required in order to generate a certificate request that will be sent to RACF for signing by the MQ CA certificate.</p>
<div class="highlight"><pre><span></span><code>keytool -genkey -alias &quot;USER1&quot; -dname &quot;CN=USER1, OU=ATS, O=IBM, C=US&quot; -keystore USER1jks -keyalg RSA
</code></pre></div>
</li>
<li>
<p>Use the keytool certreq command to extraact the self-signed certificate to a certificate request file that can be uploaded to z/OS.</p>
<div class="highlight"><pre><span></span><code>keytool -certreq -alias &quot;USER1&quot; -file certreq.cer -keystore USER1.jks
</code></pre></div>
</li>
<li>
<p>Use ftp to move the certificate request to z/OS.</p>
<div class="highlight"><pre><span></span><code>user1@129.40.114.132&#39;s password:
Connected to 129.40.114.132.
sftp&gt; cd //&#39;USER1&#39;
sftp&gt; ls /+lrecl=256,recfm=vb,blksize=0
/+lrecl=256,recfm=vb,blksize=0
sftp&gt; mput certreq.cer
</code></pre></div>
</li>
<li>
<p>Browse USER1.CERTREQ.CER and you should see something like this below:</p>
<div class="highlight"><pre><span></span><code>---------BEGIN NEW CERTIFICATE REQUEST----------
JASKHUGSIteusheughaoer8hoiueahgkshrekughkurehgr
...
----------END NEW CERTIFICATE REQUEST-----------
</code></pre></div>
</li>
<li>
<p>After uploading the certificate request to z/OS, use the RACDCERT GENCERT command to sign the certificate request with the RACF MQ signer certificate and associate this certificate with a valid RACF identity (e.g. USER1).</p>
<p>racdcert id(USER1) gencert(certreq.cer) withlabel('USER1') signwith(certauth label('MQ CA')) notafter(date(2029/12/31))</p>
</li>
<li>
<p>Export the signed client certificate request file to a sequential z/OS dataset using the RACDCERT EXPORT command.</p>
<p>racdcert id(USER1) export(label('USER1')) dsn(cert.cer)</p>
</li>
<li>
<p>Browse USER1.CERT.CER and you should see something like below:</p>
<div class="highlight"><pre><span></span><code>-------BEGIN CERTIFICATE --------
ADSUHFAKURENJJLANFJLRELUGNAJKFNVA
...
------END CERTIFICATE------------
</code></pre></div>
</li>
<li>
<p>Use ftp to move the signed certificate in dataset USER1.CERT.CER to Windows</p>
<div class="highlight"><pre><span></span><code>user1@129.40.114.132&#39;s password:
Connected to 129.40.114.132.
sftp&gt; cd //&#39;USER1&#39;
sftp&gt; ls /+mode=text
/+mode=text
sftp&gt; get USER1.CACERT.CER
Fetching //USER1/CERT.CER to USER1.CERT.CER
</code></pre></div>
</li>
<li>
<p>Use the keytool -import command to import the signed certificate into the JSSE keystore.</p>
<div class="highlight"><pre><span></span><code>keytool -v -import -alias &quot;USER1&quot; -file CERT.CER -keystore USER1.jks
</code></pre></div>
</li>
</ol>
<blockquote>
<p><em>Tech-tip</em> If the message “Certificate reply was installed in keystore” is not displayed then there was problem somewhere in this process. Steps 2 to 12 could repeated after removing file user1.jks and deleting the USER1 certificate with command racdcert id(USER1) delete(label('USER1')</p>
</blockquote>
<p>12. To recap, in this part of the exercise, we configured a self-signed certificate.</p>
<p><img alt="Picture of certificate diagram" src="../assets/cert_diagram.png" title="Picture of certificate diagram" /></p>
<h4 id="iii-configure-channel-encryption">III. Configure channel encryption</h4>
<p>1. At this point, we have to adjust queue manager settings for our z/OS queue manager ZQS1. Start by opening MQ Explorer.</p>
<p>2. Modify RACF key ring (SSLKEYR) to be accessed for personal and certificate authority digital certificates</p>
<div class="highlight"><pre><span></span><code>    /ZQS1 ALTER QMGR SSLKEYR(&#39;MQCHIN.KeyRing&#39;)
</code></pre></div>
<p>3. Modify the number of SSL sub tasks (SSLTASKS) for processing SSL calls</p>
<div class="highlight"><pre><span></span><code>    /ZQS1 ALTER QMGR SSLTASKS(5)
</code></pre></div>
<p>4. Restart CHINIT address space</p>
<div class="highlight"><pre><span></span><code>    /ZQS1 STOP CHINIT
    /ZQS1 START CHINIT
</code></pre></div>
<p>5. Start MQ Explorer on your desktop. Click on Window on the tool bar and then click on Preferences. Expand the MQ Explorer option and then expand Client Connections. Select SSL Key Repositories preferences. Check the box beside 'Enable default SSL key repositories' and then use the 'Browse' buttons to select the key store configured earlier in this exercise (e.g. USER1.jks) for both for Trusted Certificates and Personal Certificates store files. Use the Enter password button to enter the password for both store files.</p>
<p><img alt="Picture of MQ explorer SSL key store preferences" src="../assets/cert2.png" title="Picture of MQ explorer SSL key store preferences" /></p>
<p>6. Click Apply and Close to continue.</p>
<p>7. Switch to the SSL Options preference window. Check the box beside 'Enable default SSL options' and then use the pull down to select a SSL CipherSpec of ECDHE_RSA_AES_128_CBC_SHA256. Click 'Apply' and 'Close' to continue.</p>
<p><img alt="Picture of MQ explorer SSL CipherSpec settings" src="../assets/cert3.png" title="Picture of SSL CipherSpec settings" /></p>
<blockquote>
<p>Tech-Tip: Which cipher suite selected is not important as long as the same cipher is used consistently. </p>
</blockquote>
<p>8. Using an existing non-SSL connection to QMZ1, create a new server connection channel by selecting 'Channels' and right-clicking 'Select New' -&gt; Server-connection Channel'. Enter a nameof USER1.SSL.SVRCONN and click 'Next' to continue.</p>
<p>9. On the 'New Server-connection Channel' window, select 'SSL' and use the pull down arrow to select ECDHE_RSA_AES_128_CBC_SHA256 as the SSL CipherSpec. Select 'General' to
continue.</p>
<p><img alt="Picture of MQ explorer SSL CipherSpec settings" src="../assets/cert4.png" title="Picture of SSL CipherSpec settings" /></p>
<p>10. On the General window use the pull-down arrow to select TCP. Click Finish to continue.</p>
<p><img alt="Picture of MQ explorer SSL CipherSpec settings" src="../assets/cert5.png" title="Picture of SSL CipherSpec settings" /></p>
<p>11. Next a Channel Authentication record needs to be added to allow access to the
USER1.SSL.SVRCONN channel. Using a non-SSL connection to ZQS1, expand 'Channels' and
select 'Channel Authentication Records'. </p>
<p><img alt="Picture of Channel authentication records list" src="../assets/cert6.png" /></p>
<p>12. Right-click and select 'New -&gt; Channel Authentication Record' to display the 'New Channel Authentication Record – Create a Channel Authentication Record' window. Take the default for the 'Rule' type (Allow access) and press 'Next' to continue.</p>
<p><img alt="Picture of Channel authentication record creation" src="../assets/cert7.png" /></p>
<p>13. On the 'Match' part of the identity window, select the radio button by 'SSL/TLS Distinguished Name'. Click 'Next' to continue.</p>
<p><img alt="Picture of Channel authentication record creation" src="../assets/cert8.png" /></p>
<p>14. On the 'Matching the channels window', enter USER1.SSL.* in the area under Channel Profile. Press 'Next' to continue.</p>
<p><img alt="Picture of Channel authentication record creation" src="../assets/cert9.png" /></p>
<p>15. On the Matching SSL/TLS Distinguished Names window enter 'OU=ATS' as the SSL/TLS
subject’s Distinguished Name pattern and 'CN=MQ CA,OU=ATS,O=IBM,C=US' as the SSL/TLS
issuer’s Distinguished Name pattern. Enter an asterisk (*) for the IP address or hostname
pattern. Click Next to continue. </p>
<p><img alt="Picture of Channel authentication record rule" src="../assets/cert10.png" /></p>
<p>16. On the Authorization user ID window click the radio button beside 'Fixed user ID' and enter 'USER1' as the 'User ID'. Press 'Next' 3 times to continue. </p>
<p><img alt="Picture of Channel authentication record rule" src="../assets/cert11.png" /></p>
<p>17. Click 'Finish' on the Summary window to complete the definition of this authentication rule. </p>
<p><img alt="Picture of Channel authentication record rule" src="../assets/cert12.png" /></p>
<p>18. Next, create a new remote connection to queue manager ZQS1.</p>
<p><img alt="Picture of new remote queue manager setup" src="../assets/cert13.png" /></p>
<p>19. On the 'Specify new connection details' window, enter the appropriate z/OS LPAR IP address as the 'Host name', 1424 as the 'Port Number' and USER1.SSL.SVRCONN as the 'Server-connection channel' name. Click Next 3 times to continue. </p>
<p><img alt="Picture of new remote queue manager setup" src="../assets/cert14.png" /></p>
<p>20. On the 'Specify SSL certificate key repository details' window, ensure the box beside 'Enable SSL key repositories' is checked. If the 'Trusted Certificate Store' is not configured, use the 'Browse' and 'Enter' password buttons to provide this information. Click 'Finish' to continue.</p>
<p><img alt="Picture of new remote queue manager setup" src="../assets/cert15.png" /></p>
<p>21. You should now be connected to the queue manager using SSL. To confirm enter this MVS
command:</p>
<div class="highlight"><pre><span></span><code>    ZQS1 display chstatus(USER1.*) mcauser sslcertu
</code></pre></div>
<p>The RACF identity associated with the client’s certificate is displayed in the SSLCERTU
property</p>
<div class="highlight"><pre><span></span><code> CSQM201I ZQS1 CSQMDRTC  DISPLAY CHSTATUS DETAILS 610               
 CHSTATUS(USER1.SSL.SVRCONN)                                        
 CHLDISP(PRIVATE)                                                   
 CONNAME(9.31.118.212)                                              
 CURRENT                                                            
 CHLTYPE(SVRCONN)                                                   
 STATUS(RUNNING)                                                    
 SUBSTATE()                                                         
 STOPREQ(NO)                                                        
 RAPPLTAG(MQ Explorer 9.4.1)                                        
 SSLCERTU(SYSPROG)                                                  
 MCAUSER(USER1)                                              
  END CHSTATUS DETAILS   
</code></pre></div>
<p>As a test, add and delete queues and other functions that only USER1 should have authority to perform.</p>
<p>22. CONGRATULATIONS!!! You have configured self-signed certificates and implemented SSL security between MQ Explorer and the queue manager. </p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 IBM
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>